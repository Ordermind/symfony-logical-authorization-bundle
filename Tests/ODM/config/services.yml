services:
  test_model_operations:
    class: Ordermind\LogicalAuthorizationBundle\Tests\Shared\Fixtures\Services\TestModelOperations

  repository_manager.test_user:
    class: Ordermind\DoctrineManagerBundle\ODM\Manager\RepositoryManager
    factory: ['@ordermind_logical_authorization.service.repository_manager_factory', getRepositoryManager]
    arguments:
      - Ordermind\LogicalAuthorizationBundle\Tests\ODM\Fixtures\Document\User\TestUser

  # Annotation repositories
  repository_manager.test_document_roleauthor_annotation:
    class: Ordermind\DoctrineManagerBundle\ODM\Manager\RepositoryManager
    factory: ['@ordermind_logical_authorization.service.repository_manager_factory', getRepositoryManager]
    arguments:
      - Ordermind\LogicalAuthorizationBundle\Tests\ODM\Fixtures\Document\Annotation\TestDocumentRoleAuthor

  repository_manager.test_document_hasaccount_annotation:
    class: Ordermind\DoctrineManagerBundle\ODM\Manager\RepositoryManager
    factory: ['@ordermind_logical_authorization.service.repository_manager_factory', getRepositoryManager]
    arguments:
      - Ordermind\LogicalAuthorizationBundle\Tests\ODM\Fixtures\Document\Annotation\TestDocumentHasAccountNoInterface

  repository_manager.test_document_nobypass_annotation:
    class: Ordermind\DoctrineManagerBundle\ODM\Manager\RepositoryManager
    factory: ['@ordermind_logical_authorization.service.repository_manager_factory', getRepositoryManager]
    arguments:
      - Ordermind\LogicalAuthorizationBundle\Tests\ODM\Fixtures\Document\Annotation\TestDocumentNoBypass

  # XML repositories
  repository_manager.test_document_roleauthor_xml:
    class: Ordermind\DoctrineManagerBundle\ODM\Manager\RepositoryManager
    factory: ['@ordermind_logical_authorization.service.repository_manager_factory', getRepositoryManager]
    arguments:
      - Ordermind\LogicalAuthorizationBundle\Tests\ODM\Fixtures\Document\XML\TestDocumentRoleAuthor

  repository_manager.test_document_hasaccount_xml:
    class: Ordermind\DoctrineManagerBundle\ODM\Manager\RepositoryManager
    factory: ['@ordermind_logical_authorization.service.repository_manager_factory', getRepositoryManager]
    arguments:
      - Ordermind\LogicalAuthorizationBundle\Tests\ODM\Fixtures\Document\XML\TestDocumentHasAccountNoInterface

  repository_manager.test_document_nobypass_xml:
    class: Ordermind\DoctrineManagerBundle\ODM\Manager\RepositoryManager
    factory: ['@ordermind_logical_authorization.service.repository_manager_factory', getRepositoryManager]
    arguments:
      - Ordermind\LogicalAuthorizationBundle\Tests\ODM\Fixtures\Document\XML\TestDocumentNoBypass

  # YML repositories
  repository_manager.test_document_roleauthor_yml:
    class: Ordermind\DoctrineManagerBundle\ODM\Manager\RepositoryManager
    factory: ['@ordermind_logical_authorization.service.repository_manager_factory', getRepositoryManager]
    arguments:
      - Ordermind\LogicalAuthorizationBundle\Tests\ODM\Fixtures\Document\YML\TestDocumentRoleAuthor

  repository_manager.test_document_hasaccount_yml:
    class: Ordermind\DoctrineManagerBundle\ODM\Manager\RepositoryManager
    factory: ['@ordermind_logical_authorization.service.repository_manager_factory', getRepositoryManager]
    arguments:
      - Ordermind\LogicalAuthorizationBundle\Tests\ODM\Fixtures\Document\YML\TestDocumentHasAccountNoInterface

  repository_manager.test_document_nobypass_yml:
    class: Ordermind\DoctrineManagerBundle\ODM\Manager\RepositoryManager
    factory: ['@ordermind_logical_authorization.service.repository_manager_factory', getRepositoryManager]
    arguments:
      - Ordermind\LogicalAuthorizationBundle\Tests\ODM\Fixtures\Document\YML\TestDocumentNoBypass