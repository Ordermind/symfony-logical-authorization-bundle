services:
  test_model_operations:
    class: Ordermind\LogicalAuthorizationBundle\Tests\Shared\Fixtures\Services\TestModelOperations

  repository_decorator.test_user:
    class: Ordermind\LogicalAuthorizationBundle\Services\Decorator\RepositoryDecorator
    factory: ['@ordermind_logical_authorization.service.repository_decorator_factory', getRepositoryDecorator]
    arguments:
      - Ordermind\LogicalAuthorizationBundle\Tests\ORM\Fixtures\Entity\User\TestUser

  # Annotation repositories
  repository_decorator.test_entity_roleauthor_annotation:
    class: Ordermind\LogicalAuthorizationBundle\Services\Decorator\RepositoryDecorator
    factory: ['@ordermind_logical_authorization.service.repository_decorator_factory', getRepositoryDecorator]
    arguments:
      - Ordermind\LogicalAuthorizationBundle\Tests\ORM\Fixtures\Entity\Annotation\TestEntityRoleAuthor

  repository_decorator.test_entity_hasaccount_annotation:
    class: Ordermind\LogicalAuthorizationBundle\Services\Decorator\RepositoryDecorator
    factory: ['@ordermind_logical_authorization.service.repository_decorator_factory', getRepositoryDecorator]
    arguments:
      - Ordermind\LogicalAuthorizationBundle\Tests\ORM\Fixtures\Entity\Annotation\TestEntityHasAccountNoInterface

  repository_decorator.test_entity_nobypass_annotation:
    class: Ordermind\LogicalAuthorizationBundle\Services\Decorator\RepositoryDecorator
    factory: ['@ordermind_logical_authorization.service.repository_decorator_factory', getRepositoryDecorator]
    arguments:
      - Ordermind\LogicalAuthorizationBundle\Tests\ORM\Fixtures\Entity\Annotation\TestEntityNoBypass

  repository_decorator.test_entity_overridden_permissions_annotation:
    class: Ordermind\LogicalAuthorizationBundle\Services\Decorator\RepositoryDecorator
    factory: ['@ordermind_logical_authorization.service.repository_decorator_factory', getRepositoryDecorator]
    arguments:
      - Ordermind\LogicalAuthorizationBundle\Tests\ORM\Fixtures\Entity\Annotation\TestEntityOverriddenPermissions

  repository_decorator.test_entity_various_permissions_annotation:
    class: Ordermind\LogicalAuthorizationBundle\Services\Decorator\RepositoryDecorator
    factory: ['@ordermind_logical_authorization.service.repository_decorator_factory', getRepositoryDecorator]
    arguments:
      - Ordermind\LogicalAuthorizationBundle\Tests\ORM\Fixtures\Entity\Annotation\TestEntityVariousPermissions

  # XML repositories
  repository_decorator.test_entity_roleauthor_xml:
    class: Ordermind\LogicalAuthorizationBundle\Services\Decorator\RepositoryDecorator
    factory: ['@ordermind_logical_authorization.service.repository_decorator_factory', getRepositoryDecorator]
    arguments:
      - Ordermind\LogicalAuthorizationBundle\Tests\ORM\Fixtures\Entity\XML\TestEntityRoleAuthor

  repository_decorator.test_entity_hasaccount_xml:
    class: Ordermind\LogicalAuthorizationBundle\Services\Decorator\RepositoryDecorator
    factory: ['@ordermind_logical_authorization.service.repository_decorator_factory', getRepositoryDecorator]
    arguments:
      - Ordermind\LogicalAuthorizationBundle\Tests\ORM\Fixtures\Entity\XML\TestEntityHasAccountNoInterface

  repository_decorator.test_entity_nobypass_xml:
    class: Ordermind\LogicalAuthorizationBundle\Services\Decorator\RepositoryDecorator
    factory: ['@ordermind_logical_authorization.service.repository_decorator_factory', getRepositoryDecorator]
    arguments:
      - Ordermind\LogicalAuthorizationBundle\Tests\ORM\Fixtures\Entity\XML\TestEntityNoBypass

  repository_decorator.test_entity_overridden_permissions_xml:
    class: Ordermind\LogicalAuthorizationBundle\Services\Decorator\RepositoryDecorator
    factory: ['@ordermind_logical_authorization.service.repository_decorator_factory', getRepositoryDecorator]
    arguments:
      - Ordermind\LogicalAuthorizationBundle\Tests\ORM\Fixtures\Entity\XML\TestEntityOverriddenPermissions

  repository_decorator.test_entity_various_permissions_xml:
    class: Ordermind\LogicalAuthorizationBundle\Services\Decorator\RepositoryDecorator
    factory: ['@ordermind_logical_authorization.service.repository_decorator_factory', getRepositoryDecorator]
    arguments:
      - Ordermind\LogicalAuthorizationBundle\Tests\ORM\Fixtures\Entity\XML\TestEntityVariousPermissions

  # YML repositories
  repository_decorator.test_entity_roleauthor_yml:
    class: Ordermind\LogicalAuthorizationBundle\Services\Decorator\RepositoryDecorator
    factory: ['@ordermind_logical_authorization.service.repository_decorator_factory', getRepositoryDecorator]
    arguments:
      - Ordermind\LogicalAuthorizationBundle\Tests\ORM\Fixtures\Entity\YML\TestEntityRoleAuthor

  repository_decorator.test_entity_hasaccount_yml:
    class: Ordermind\LogicalAuthorizationBundle\Services\Decorator\RepositoryDecorator
    factory: ['@ordermind_logical_authorization.service.repository_decorator_factory', getRepositoryDecorator]
    arguments:
      - Ordermind\LogicalAuthorizationBundle\Tests\ORM\Fixtures\Entity\YML\TestEntityHasAccountNoInterface

  repository_decorator.test_entity_nobypass_yml:
    class: Ordermind\LogicalAuthorizationBundle\Services\Decorator\RepositoryDecorator
    factory: ['@ordermind_logical_authorization.service.repository_decorator_factory', getRepositoryDecorator]
    arguments:
      - Ordermind\LogicalAuthorizationBundle\Tests\ORM\Fixtures\Entity\YML\TestEntityNoBypass

  repository_decorator.test_entity_overridden_permissions_yml:
    class: Ordermind\LogicalAuthorizationBundle\Services\Decorator\RepositoryDecorator
    factory: ['@ordermind_logical_authorization.service.repository_decorator_factory', getRepositoryDecorator]
    arguments:
      - Ordermind\LogicalAuthorizationBundle\Tests\ORM\Fixtures\Entity\YML\TestEntityOverriddenPermissions

  repository_decorator.test_entity_various_permissions_yml:
    class: Ordermind\LogicalAuthorizationBundle\Services\Decorator\RepositoryDecorator
    factory: ['@ordermind_logical_authorization.service.repository_decorator_factory', getRepositoryDecorator]
    arguments:
      - Ordermind\LogicalAuthorizationBundle\Tests\ORM\Fixtures\Entity\YML\TestEntityVariousPermissions